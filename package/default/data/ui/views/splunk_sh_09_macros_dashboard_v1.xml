<form theme="dark">
  <label>SH - 09 - Macros - Dashboard - v1.5.50</label>
  <search id="splunk_sh_09_macros_dashboard_v1">
    <query>
| from lookup:splunk_rest_data_macros_sh_kv_store_lookup 
| fields shcluster_label Splunk_Instance title definition args app sharing author description updated disabled errormsg iseval

| `get_instance_roles(Splunk_Instance)`

|	`get_identity_info_simple(shcluster_label,author)`
| `strftime_format(updated)`

| fillnull value="Undefined" shcluster_label Splunk_Instance Splunk_Roles title definition args app sharing author description updated disabled errormsg iseval

| search shcluster_label="$shcluster_label$" Splunk_Instance="*$Splunk_Instance$*" Splunk_Roles="*$Splunk_Roles$*" app="$app$" title="*$title$*" author="$author$" description="*$description$*" emp_name="$emp_name$" emp_ttl="$emp_ttl$" emp_lob="$emp_lob$" emp_dep="$emp_dep$" emp_type="$emp_type$" emp_status="$emp_status$" sharing="$sharing$" args="$args$" definition="*$definition$*" disabled=$disabled$ errormsg="*$errormsg$*" iseval=$iseval$
      </query>
  </search>
  <fieldset submitButton="false" autoRun="true">
    <input type="dropdown" token="shcluster_label" searchWhenChanged="true">
      <label>Splunk SH (Cluster/Instance)</label>
      <fieldForLabel>shcluster_label</fieldForLabel>
      <fieldForValue>shcluster_label</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by shcluster_label</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="Splunk_Roles" searchWhenChanged="true">
      <label>Splunk Roles</label>
      <fieldForLabel>Splunk_Roles</fieldForLabel>
      <fieldForValue>Splunk_Roles</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by Splunk_Roles</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="Splunk_Instance" searchWhenChanged="true">
      <label>Splunk Instance</label>
      <fieldForLabel>Splunk_Instance</fieldForLabel>
      <fieldForValue>Splunk_Instance</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by Splunk_Instance</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="app" searchWhenChanged="true">
      <label>App</label>
      <fieldForLabel>app</fieldForLabel>
      <fieldForValue>app</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by app</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="sharing" searchWhenChanged="true">
      <label>App Sharing</label>
      <fieldForLabel>sharing</fieldForLabel>
      <fieldForValue>sharing</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by sharing</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="title" searchWhenChanged="true">
      <label>Macro Name</label>
      <fieldForLabel>title</fieldForLabel>
      <fieldForValue>title</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by title</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="description" searchWhenChanged="true">
      <label>Description</label>
      <fieldForLabel>description</fieldForLabel>
      <fieldForValue>description</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by description</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="args" searchWhenChanged="true">
      <label>Macro Arguments</label>
      <fieldForLabel>args</fieldForLabel>
      <fieldForValue>args</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by args</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="iseval" searchWhenChanged="true">
      <label>Using eval-based definition?</label>
      <fieldForLabel>iseval</fieldForLabel>
      <fieldForValue>iseval</fieldForValue>
      <choice value="*">All</choice>
      <choice value="1">Yes</choice>
      <choice value="0">No</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="disabled" searchWhenChanged="true">
      <label>Disabled?</label>
      <fieldForLabel>disabled</fieldForLabel>
      <fieldForValue>disabled</fieldForValue>
      <choice value="*">All</choice>
      <choice value="1">Yes</choice>
      <choice value="0">No</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="author" searchWhenChanged="true">
      <label>Owner</label>
      <fieldForLabel>author</fieldForLabel>
      <fieldForValue>author</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by author</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="emp_name" searchWhenChanged="true">
      <label>Employee Full Name</label>
      <fieldForLabel>emp_name</fieldForLabel>
      <fieldForValue>emp_name</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by emp_name</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="emp_ttl" searchWhenChanged="true">
      <label>Employee Title</label>
      <fieldForLabel>emp_ttl</fieldForLabel>
      <fieldForValue>emp_ttl</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by emp_ttl</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="emp_dep" searchWhenChanged="true">
      <label>Employee Department</label>
      <choice value="*">All</choice>
      <fieldForLabel>emp_dep</fieldForLabel>
      <fieldForValue>emp_dep</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by emp_dep</query>
      </search>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="emp_lob" searchWhenChanged="true">
      <label>Employee LOB</label>
      <fieldForLabel>emp_lob</fieldForLabel>
      <fieldForValue>emp_lob</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by emp_lob</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="emp_type" searchWhenChanged="true">
      <label>Employee Type</label>
      <fieldForLabel>emp_type</fieldForLabel>
      <fieldForValue>emp_type</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by emp_type</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="dropdown" token="emp_status" searchWhenChanged="true">
      <label>Employee Status</label>
      <fieldForLabel>emp_status</fieldForLabel>
      <fieldForValue>emp_status</fieldForValue>
      <search base="splunk_sh_09_macros_dashboard_v1">
        <query>| stats count by emp_status</query>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="text" token="Splunk_Roles" searchWhenChanged="true">
      <label>Splunk Roles (Contains)</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="text" token="Splunk_Instance" searchWhenChanged="true">
      <label>Splunk Instance (Contains)</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="text" token="title" searchWhenChanged="true">
      <label>Macro Name (Contains)</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="text" token="description" searchWhenChanged="true">
      <label>Description (Contains)</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="text" token="definition" searchWhenChanged="true">
      <label>Macro Definition (Contains)</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
    <input type="text" token="errormsg" searchWhenChanged="true">
      <label>Validation Error Message (Contains)</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
  </fieldset>
  <row>
    <panel>
      <title>Associated GMC Job(s) - $env:page$</title>
      <html>
            GMC Jobs / GMC Gen Jobs / SH Tier Gen Jobs /
            <a href="/app/global_monitoring_console/search?s=splunk_rest_data_macros_sh_kv_store_lookup_gen" target="_blank" rel="noopener">Macros Gen Job</a>
            <div class="btn-group1">
               <div id="mod_info">
                  <a class="btn middle contour" target="blank" href="/app/lookup_editor/lookup_edit?owner=nobody&amp;namespace=global_monitoring_console&amp;lookup=splunk_rest_data_macros_sh_kv_store&amp;type=kv">
                     View Macros KV Store
                     <i class="icon-data icon-modal-medium icon-color-brandColorD40 m-left"/>
                  </a>
               </div>
               <div id="mod_att" class="hide">
                  <a class="btn full" href="javascript:();" data-toggle="modal" data-target="#info">
                     Attention
                     <i class="icon-alert icon-modal-medium icon-color-brandColorD40 m-left"/>
                  </a>
               </div>
            </div>
         </html>
    </panel>
  </row>
  <row>
    <panel>
      <title>Total Number of Macros</title>
      <single>
        <search base="splunk_sh_09_macros_dashboard_v1">
          <query>| stats count</query>
        </search>
        <option name="colorMode">block</option>
        <option name="drilldown">none</option>
        <option name="rangeColors">["0x006d9c","0x006d9c"]</option>
        <option name="rangeValues">[0]</option>
        <option name="refresh.display">progressbar</option>
        <option name="useColors">1</option>
      </single>
    </panel>
    <panel>
      <title>By App</title>
      <chart>
        <search base="splunk_sh_09_macros_dashboard_v1">
          <query>| stats count by app</query>
        </search>
        <option name="charting.chart">pie</option>
        <option name="charting.chart.sliceCollapsingThreshold">0</option>
        <option name="charting.drilldown">none</option>
        <option name="refresh.display">progressbar</option>
      </chart>
    </panel>
  </row>
  <row>
    <panel>
      <title>Macros</title>
      <table>
        <search base="splunk_sh_09_macros_dashboard_v1">
          <query>| table shcluster_label author app title description definition args errormsg disabled iseval updated sharing emp_name emp_ttl emp_dep emp_lob emp_cc emp_type emp_status endDate 
| sort 0 shcluster_label app title 
| `rename_common_fields` 
| `rename_identity_fields` 
| `rename_rest_fields` 
| rename title AS "Macro Name" definition AS "Macro Definition" args AS "Macro Arguments" errormsg AS "Validation Error Message" iseval AS "Uses eval-based definition"</query>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="percentagesRow">false</option>
        <option name="refresh.display">none</option>
        <option name="rowNumbers">true</option>
        <option name="totalsRow">false</option>
        <option name="wrap">false</option>
        <format type="color" field="host">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="host">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="search_group">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="host">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="host">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="search_group">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="machine">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Splunk_Roles">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Splunk Instance">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Macro Name">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Splunk_Instance">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
</form>